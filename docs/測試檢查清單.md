# 測試檢查清單

## 已完成的修正

### 1. 預覽功能
- ✅ 修正 Blazor Viewer.razor 中的預覽顯示
- ✅ 使用 `PreviewViewModel.RenderedHtml` 顯示渲染後的 HTML
- ✅ 使用 `MarkupString` 安全地渲染 HTML 內容
- ✅ 添加載入、錯誤、空狀態的 UI 顯示

### 2. 編輯功能
- ✅ 綁定到 `EditViewModel.MarkdownContent`
- ✅ 使用 `@bind:event="oninput"` 實現即時輸入
- ✅ 支援即時預覽同步（透過 EditViewModel 的防抖機制）

### 3. 資料綁定
- ✅ 訂閱 `ViewModel.PropertyChanged` 事件
- ✅ 訂閱 `PreviewViewModel.PropertyChanged` 事件
- ✅ 當 `RenderedHtml` 變更時自動更新預覽

## 測試項目

### 基本功能測試

1. **應用程式啟動**
   - [ ] 應用程式能正常啟動
   - [ ] Blazor WebView 能正常載入
   - [ ] 工具列正常顯示

2. **檔案選擇**
   - [ ] 檔案樹能正常顯示（MAUI 原生）
   - [ ] 選擇 Markdown 檔案後，內容能正常載入
   - [ ] 預覽區域能顯示渲染後的 HTML

3. **預覽模式**
   - [ ] 預覽區域顯示渲染後的 Markdown HTML
   - [ ] 樣式正確（標題、列表、程式碼區塊等）
   - [ ] 載入狀態正確顯示
   - [ ] 錯誤訊息正確顯示

4. **編輯模式**
   - [ ] 切換到編輯模式後，編輯器正常顯示
   - [ ] 編輯器內容與檔案內容同步
   - [ ] 輸入時即時預覽正常更新（防抖 500ms）
   - [ ] 預覽區域顯示渲染後的 HTML

5. **儲存功能**
   - [ ] 儲存按鈕在編輯模式下可用
   - [ ] 儲存功能正常運作
   - [ ] 儲存訊息正確顯示

6. **匯出功能**
   - [ ] 匯出選單正常顯示
   - [ ] 匯出選單右上角不被截斷
   - [ ] PDF/HTML 匯出按鈕正常運作
   - [ ] 匯出訊息正確顯示

### 已知問題檢查

1. **匯出選單截斷問題**
   - [ ] 右上角不再被截斷
   - [ ] 所有選項完整顯示

2. **PDF/HTML 按鈕無反應問題**
   - [ ] 點擊 PDF 按鈕有反應
   - [ ] 點擊 HTML 按鈕有反應
   - [ ] 不支援的格式顯示正確訊息

3. **HOME 橫幅**
   - [ ] 已移除（在 MainLayout.razor 中）

## 測試步驟

1. 啟動應用程式
2. 選擇一個 Markdown 檔案
3. 檢查預覽是否正常顯示
4. 切換到編輯模式
5. 輸入一些 Markdown 內容
6. 檢查即時預覽是否更新
7. 測試儲存功能
8. 測試匯出功能

## 預期行為

- 預覽模式：只顯示渲染後的 HTML 預覽
- 編輯模式：左側編輯器，右側即時預覽
- 即時預覽：輸入後 500ms 自動更新預覽
- 匯出選單：完整顯示，不被截斷

## 如果遇到問題

1. 檢查瀏覽器開發者工具（F12）是否有 JavaScript 錯誤
2. 檢查 Visual Studio 輸出視窗是否有 C# 錯誤
3. 檢查 Blazor WebView 是否正常載入
4. 檢查 ViewModel 是否正確注入

---

*測試日期：2025-11-13*

